# ナンプレでWFCを実装
ナンプレはパズルです。その答えの一つをWFCというアルゴリズムで作成するプログラムです。

# WFCとは
「波動関数の崩壊」という意味。量子力学の「観測したら状態が確定する」を再現するのがこのアルゴリズム。

1. 入力データを読み取り、使えるパターンをカウントする。
2. 出力の寸法(ソース内では”wave”と呼称)を持つ配列を作成する。
	この配列の各要素は、ブール係数によるパターンの重ね合わせ状態である。
  - False -> 対応するパターンが禁止されていることを意味する
  - True -> 対応するパターンがまだ禁止されていないことを意味する。
3. ”wave”を完全に観測されていない状態、つまりすべてのブール係数がTrueである状態で初期化する。
4. 次の手順を繰り返す。
    1. 自身の状態を観測する：
        1. エントロピーがゼロでない最小の波動要素を見つける。もしそのような要素がなければ(すべての係数がFalseまたは不定形のエントロピーを持っている場合)、(4)中断して(5)に進む。
        2. この要素を、その係数と入力パターンの分布に従って、確定状態に畳み込む。
    2. 観測した情報の伝播：前回の観測ステップで得た情報を伝播させる。
5. この時点で、すべての波動要素は完全に観測された状態（1つを除くすべての係数がFalse）か、矛盾した状態（すべての係数がFalse）になっている。最初のケースでは出力を返し、2番目のケースではもう一度処理をする。

